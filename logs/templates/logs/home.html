{% extends "blank.html" %}
{% load static %}

{% block title %}WRITING MATE{% endblock %}

{% block page-heading %}hi {{ user.first_name }}! :){% endblock %}

{% block content %}

{% if user.is_authenticated %}

<div class="row">

  <!-- Earnings (Monthly) Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-primary shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                          your newest project</div>
                      <!--div class="h5 mb-0 font-weight-bold text-gray-800">$40,000</div-->
                      {% if project %}<a class="btn btn-primary" href="{% url 'project_view' slug=project.slug %}">{{ project.title }}</a>{% endif %}
                      <br><br>
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                        your latest log</div>
                      <!--div class="h5 mb-0 font-weight-bold text-gray-800">$215,000</div-->
                      {% if log %}{{ log.project }} - {{ log.count }} - {{ log.date }}, {{ log.time }} - {{ log.note }}{% endif %}
                    </div>
                  <div class="col-auto">
                      <i class="fas fa-calendar fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Earnings (Monthly) Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-success shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                          your daily progress (to be done)</div>
                          <!--div class="row no-gutters align-items-center">
                            <div class="col-auto">
                                <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">50%</div>
                            </div>
                            <div class="col">
                                <div class="progress progress-sm mr-2">
                                    <div class="progress-bar bg-success" role="progressbar"
                                        style="width: 50%" aria-valuenow="50" aria-valuemin="0"
                                        aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div-->
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Earnings (Monthly) Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-info shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                    you've written on</div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{ metrics.written_on_days }} days</div>
                    <br>
                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                      a total of</div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{ metrics.total_count }} words</div>
                    <br>
                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                      in a total of </div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{ metrics.total_logs }} logs</div>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Pending Requests Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-warning shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                          start now</div>
                      <!--div class="h5 mb-0 font-weight-bold text-gray-800">18</div-->
                      <a class="btn btn-warning" href="/projects/new/">new project</a><br><br>
                      <a class="btn btn-info" href="/logs/new/">new log</a><br><br>
                      <a class="btn btn-dark" href="#" data-toggle="modal" data-target="#logoutModal">Log Out</a>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-comments fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

<div class="row">

  <div class="col-lg-6">
      <!-- Basic Card Example -->
      <div class="card shadow mb-4">
          <div class="card-header py-3">
              <h6 class="m-0 font-weight-bold text-primary">Last Weeks Progress</h6>
          </div>
          <div class="card-body">
            {{ div | safe }}
          </div>
      </div>
      <!-- Project Card Example -->
      <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Projects (to be done)</h6>
        </div>
        <div class="card-body">
            <h4 class="small font-weight-bold">Project A<span
                    class="float-right">20%</span></h4>
            <div class="progress mb-4">
                <div class="progress-bar bg-danger" role="progressbar" style="width: 20%"
                    aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <h4 class="small font-weight-bold">Project B<span
                    class="float-right">40%</span></h4>
            <div class="progress mb-4">
                <div class="progress-bar bg-warning" role="progressbar" style="width: 40%"
                    aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <h4 class="small font-weight-bold">Project C<span
                    class="float-right">60%</span></h4>
            <div class="progress mb-4">
                <div class="progress-bar" role="progressbar" style="width: 60%"
                    aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <h4 class="small font-weight-bold">Project D<span
                    class="float-right">80%</span></h4>
            <div class="progress mb-4">
                <div class="progress-bar bg-info" role="progressbar" style="width: 80%"
                    aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <h4 class="small font-weight-bold">Project E<span
                    class="float-right">Complete!</span></h4>
            <div class="progress">
                <div class="progress-bar bg-success" role="progressbar" style="width: 100%"
                    aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>
    </div>
  </div>
  <div class="col-lg-6">
      <div class="card mb-4">
          <div class="card-header">
            welcome to your personal writing mate!
          </div>
          <div class="card-body">
              <img class="icons w-100 mb-3" src="{% static 'logs/img/undraw_friends_r511.svg' %}" alt=""
              onload="SVGInject(this)" />
          </div>
      </div>
    <!-- Basic Card Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Release Notes v1.1.3 und v.1.1.4</h6>
        </div>
        <div class="card-body">
            <ul>
                <li>Projekte können jetzt Projekt-Bilder haben. Wenn vorhanden, werden diese auch angezeigt.</li>
                <li>Die Logs auf der Log-Übersicht sowie der Projekt-Übersicht werden jetzt auch innerhalb eines Tages richtig sortiert.</li>
                <li>In den Stats in der Daily-Übersicht wurden die Monatsnamen aus dem Plot entfernt.</li>
                <li>Nach dem Eingeben eines Logs über die Projektseite wird man dahin wieder zurück geleitet.</li>
                <li>Die Home-Seite wurde komplett überarbeitet!
                    <ul>
                        <li>Es gibt die gewohnten Links zum neuesten Projekt, für neue Projekte bzw. neue Log-Einträge</li>
                        <li>Außerdem gibt es eure All-Time-Stats!</li>
                        <li>Zusätzlich gibt es eine kleine Weekly-Stats-Übersicht :)</li>
                        <li>Die neuesten Release Notes stehen jetzt auch auf der Home-Seite!</li>
                        <li>Der Rest ist noch WIP, aber ich wollte euch das neue Design nicht vorenthalten. Wie findet ihr es?</li>
                    </ul>
                </li>
                <li>kleinere Bug-Fixes und Usability-Enhancements</li>
            </ul>
        </div>
    </div>
</div>

{% else %}
<div class="row">

  <!-- Earnings (Monthly) Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-primary shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                          projects</div>
                      <p>Verwalte deine Schreibprojekte! Konfiguriere Deadlines, Spotify und Pinterest Links und bekomme Daily und Weekly Goals für deinen Erfolg berechnet!</p>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-calendar fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Earnings (Monthly) Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-success shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                          Logs</div>
                          <p>Halte deinen Fortschritt in ausführlichen Logs fest - mit Kommentaren!</p>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Earnings (Monthly) Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-info shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Statistics
                      </div>
                      <p>Bekomme zu deiner Arbeit ausführliche Statistiken - So hast du deinen Progress immer im Blick :)</p>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Pending Requests Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-warning shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                          start now</div>
                      <!--div class="h5 mb-0 font-weight-bold text-gray-800">18</div-->
                      <p>Du möchtest mitmachen? Lies dir <a href="/accounts/register/">hier die Informationen</a> durch und melde dich!</p>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-comments fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
<div class="row">

  <div class="col-lg-6">
      <!-- Basic Card Example -->
      <div class="card shadow mb-4">
          <div class="card-header py-3">
              <h6 class="m-0 font-weight-bold text-primary">Achtung</h6>
          </div>
          <div class="card-body">
            <p>Du bist aktuell nicht eingeloggt. </p>
            <p><a class="btn btn-primary" href="{% url 'login' %}">Log In</a></p>
          </div>
      </div>
  </div>
  <div class="col-lg-6">
      <div class="card mb-4">
          <div class="card-header">
            welcome to your personal writing mate!
          </div>
          <div class="card-body">
              <img class="icons w-100 mb-3" src="{% static 'logs/img/undraw_friends_r511.svg' %}" alt=""
              onload="SVGInject(this)" />
          </div>
      </div>
  </div>
</div>
{% endif %}
<!-- bokeh import -->
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.0.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.0.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.0.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.0.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-2.4.0.min.js" crossorigin="anonymous"></script>
{{ script | safe }}
{% endblock %}
